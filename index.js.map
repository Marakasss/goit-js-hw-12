{"version":3,"file":"index.js","sources":["../src/js/pixabay-api.js","../src/js/render-functions.js","../src/main.js"],"sourcesContent":["import axios from 'axios';\n\n\n//REQUEST TO PIXABU API FOR IMAGES\nexport async function getImagesByQuery(query, page = 1) {\n    const perPage = 15;\n    const myApiKey = '49580099-ba49dcf3c416d0b66883e5025'; \n    const response = await axios.get('https://pixabay.com/api/', {\n        params: {\n            key: myApiKey,\n            q: query,\n            image_type: 'photo',\n            orientation: 'horizontal',\n            safesearch: true,\n            page,\n            per_page: perPage,\n        }\n    })\n    return {\n        hits: response.data.hits,\n        totalHits: response.data.totalHits,\n        page,\n        perPage,\n    };\n        \n}\n\n\n//REQUEST TO DUMMYJSON FOR FAKE COMMENTS TO IMAGES\nexport async function getCommentsByQuery(number) {\n    if (number > 340) {\n        number = 340;\n    }\n    else if (number === 0) {\n        return [{\n            body: \"There is no comments\",\n            user: {\n                fullName: ''\n            }\n        }]\n    }\n    const response = await axios('https://dummyjson.com/comments', {\n        params: {\n            limit: number\n        }\n    })\n\n    return response.data.comments;\n}\n\n\n ","import SimpleLightbox from \"simplelightbox\";\nimport \"simplelightbox/dist/simple-lightbox.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\nimport * as basicLightbox from 'basiclightbox'\nimport 'basiclightbox/dist/basicLightbox.min.css';\nimport { getCommentsByQuery } from \"./pixabay-api\";\n\nconst BASE_URL = import.meta.env.BASE_URL;\nconst gallery = document.querySelector('.gallery');\n\n\n//-----------FUNCTION ADDING CARDS WITH IMAGES TO GALLERY-------------\n\n\nexport function createGallery(images) {\n    \n    \n    //ADD PHOTOS TO GALLARY\n    const galleryItemsList = images\n        .map(({ likes,\n                    views,\n                    downloads,\n                    comments,\n                    tags,\n                    largeImageURL = '${BASE_URL}/img/image-not-found.jpg',\n                    webformatURL = '${BASE_URL}/img/image-not-found.jpg'  \n                }) =>\n            \n             `<li class=\"img-card\">\n                        <a class=\"gallery-link\" href= \"${largeImageURL}\">\n                            <img\n                            class=\"gallery-image\"\n                            src= \"${webformatURL}\"\n                            alt= \"${tags.split(',')[0].trim()}\"\n                            />\n                        </a>\n                        <ul class=\"img-info\">\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" name=\"like\" width=\"18\" height=\"18\">\n                                    <use href=\"${BASE_URL}/img/sprite.svg#icon-like\"></use>\n                                </svg>\n                                <p>${likes}</p>\n                            </li>\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" width=\"18\" height=\"18\">\n                                    <use href=\"${BASE_URL}/img/sprite.svg#icon-eye\"></use>\n                                </svg>\n                                <p>${views}</p>\n                            </li>\n                            <li class=\"info\">\n                                <svg class=\"icon-info comments\" width=\"18\" height=\"18\">\n                                    <use href=\"${BASE_URL}/img/sprite.svg#icon-dialog\"></use>\n                                </svg>\n                                <p>${comments}</p>\n                            </li>\n                            <li class=\"info\">\n                                <svg class=\"icon-info\" width=\"18\" height=\"18\">\n                                    <use href=\"${BASE_URL}/img/sprite.svg#icon-gallery-download\"></use>\n                                </svg>   \n                                <p>${downloads}</p>\n                            </li>\n                        </ul>\n                    </li>`\n        ).join('');\n    \n    gallery.insertAdjacentHTML(\"beforeend\", galleryItemsList);\n    \n    waitForImagesToLoad()\n    \n\n    const lightbox = new SimpleLightbox('.gallery a', {\n        captionsData: 'alt',\n        captionDelay: 250,\n    });\n\n    lightbox.refresh();\n}\n\n//---------------------FUNCTION GALLERY CLEANER-----------------------------\n\nexport function clearGallery() {\n    gallery.innerHTML = ''\n}\n\n\n//------------FUNCTION CHANGED SEARCHBAR ICON COLOR IF SOME VALUE INPUTED------------\n\n\nexport function changeIconColor(icon) {\n    const searchBar = document.querySelector('.form');\n    //removing prev listener = adding nev\n    searchBar.removeEventListener('input', changeColor);\n    searchBar.addEventListener('input', changeColor);\n       \n    function changeColor(event) {\n        icon.style.fill = event.target.value.trim() ? '#1875FF' : '';\n    }\n}\n\n\n//------------------------------------MESSAGES--------------------------------------\n\n\nexport function errorMessage(message) {\n iziToast.error({\n   message: message,\n   position: window.innerWidth <= 768 ? 'bottomCenter' : 'topCenter',\n   transitionIn: 'fadeInDown',\n   backgroundColor: 'rgb(231, 19, 36)',\n   messageColor: 'white',\n   iconColor: 'white',\n   messageSize: '16px',\n   class: 'toast',\n});\n}\n\nexport function infoMessage(message) {\n iziToast.info({\n   message: message,\n   position: window.innerWidth <= 768 ? 'bottomLeft' : 'topLeft',\n   transitionIn: 'fadeInLeft',\n   backgroundColor: 'rgb(0, 85, 212)',\n    messageSize: '16px',\n   messageColor: 'white',\n});\n}\n\n\n//-----------------------------------LOADER FUNCTIONS----------------------------------------\n\n\nexport function addLoading() {\n    const loader = document.querySelector('.loader');\n    loader.classList.remove('visually-hidden')\n    gallery.classList.add('visually-hidden')\n    \n    loader.style.display = 'block'\n}\n\nexport function removeLoading() {\n    const loader = document.querySelector('.loader');\n    loader.classList.add('visually-hidden')\n    gallery.classList.remove('visually-hidden')\n    \n    loader.style.display = 'none';  \n}\n\n\n//---------------------FUNCTION WAITING FOR ALL IMAGES DOWNLOADED-----------------------------\n\n\nexport function waitForImagesToLoad() {\n    const gallery = document.querySelector('.gallery');\n\n    return new Promise(resolve => {\n        if (!gallery) {\n            removeLoading();\n            resolve(); \n            return;\n        }\n\n        const images = gallery.querySelectorAll('img');\n        let loadedCount = 0;\n\n        if (images.length === 0) {\n            removeLoading();\n            removeNextPageloader();\n            resolve();\n            return;\n        }\n\n        const checkIfAllImagesLoaded = () => {\n            if (loadedCount === images.length) {\n                removeLoading();\n                removeNextPageloader();\n                resolve(); \n            }\n        };\n\n        images.forEach(img => {\n            if (img.complete && img.naturalHeight !== 0) {\n                loadedCount++;\n            } else {\n                img.onload = () => {\n                    loadedCount++;\n                    checkIfAllImagesLoaded();\n                };\n                img.onerror = () => {\n                    if (!img.src.includes('image-not-found.jpg')) {\n                        img.src = '/goit-js-hw-11/img/image-not-found.jpg';\n                        img.alt = 'Image not found';\n                        img.onerror = null;\n                    }\n                    loadedCount++;\n                    checkIfAllImagesLoaded();\n                };\n            }\n        });\n\n        checkIfAllImagesLoaded();\n    });\n}\n\n\n//---------------------FUNCTION HANDLE LIKE YOUR FAVORITE IMAGES-----------------------------\n\n\nexport function clickOnlike() {\n    gallery.addEventListener('click', event => {\n        if (event.target.tagName === 'use') {\n            const like = event.target.closest('svg');\n            const likesValue = like.nextElementSibling;\n            \n            if (like.getAttribute('name') === 'like') {\n                let numberOfLikes = Number(likesValue.textContent);\n\n                if (like.style.fill !== 'darkblue') {\n                    like.style.fill = 'darkblue';\n                    like.style.transform = 'scale(1.1)'\n                    likesValue.style.color = 'darkblue';\n                    numberOfLikes++;\n                } else {\n                    like.removeAttribute('style');\n                    likesValue.removeAttribute('style')\n                    numberOfLikes--;\n                }    \n\n                likesValue.textContent = numberOfLikes;\n            }\n            \n        }\n    })\n          \n}\n\n\n//---------------------FUNCTIONS SHOWING & HIDE ELEMENTS-----------------------------\n\n\nexport function hideElement(element) {\n    element.classList.add('visually-hidden')\n}\n\nexport function showElement(element) {\n    element.classList.remove('visually-hidden')\n}\n\nexport function showNextPageloader() {\n    const pageLoader = document.querySelector('.page-loader');\n    pageLoader.classList.remove('visually-hidden');\n}\n\nexport function removeNextPageloader() {\n    const pageLoader = document.querySelector('.page-loader');\n    pageLoader.classList.add('visually-hidden');   \n}\n\n\n//-------FUNCTION GETTING FAKE COMMENTS & SHOW MODAL WITH COMMENTS AFTER CLICK----------\n\n\nexport function getComments() {\n     gallery.addEventListener('click', async event => {\n        const icon = event.target.closest('svg')\n         if (icon && icon.classList.contains('comments')) {\n             const numberValue = icon.nextElementSibling;\n             const number = Number(numberValue.textContent);\n\n             try {\n                const comments = await getCommentsByQuery(number)\n                const commentsList = comments\n                    .map(({ body, user: {fullName} }) =>\n                    `<li class=\"comment-item\">\n                        <p class=\"comment-author\">${fullName}</p>\n                        <p class=\"comment-text\">${body}</p>\n                    </li>`).join('')\n                 \n                const instance = basicLightbox.create(`\n                    <div class=\"comments-modal\">\n                        <h2 class=\"comments-title\">Comments</h2>\n                        <ul class=\"comments-list\">\n                        ${commentsList}\n                        </ul>\n                    </div>\n                `)\n                instance.show()\n                 \n             }\n             catch(error) {\n                 console.error(error.message);\n             }\n        }\n    })\n}\n\n\n//---------------------FUNCTION SCROLL EFECT FOR LOADMORE BTN-----------------------------\n\n\nexport function makeScroll() {\n    const card = document.querySelector('.img-card');\n    const cardDimentions = card.getBoundingClientRect();\n\n    window.scrollBy({\n                    top: cardDimentions.height * 2,\n                    left: 0,\n                    behavior: \"smooth\",\n                    });\n}","\nimport { getImagesByQuery } from './js/pixabay-api';\nimport {\n    errorMessage, addLoading, changeIconColor, clearGallery, clickOnlike,\n    createGallery, infoMessage, waitForImagesToLoad, hideElement, showElement,\n    showNextPageloader, removeNextPageloader,\n    getComments,\n    makeScroll\n}\n    from './js/render-functions';\n\n\nconst searchBar = document.querySelector('.form');\nconst icon = document.querySelector('.icon-img');\nconst loadMoreBtn = document.querySelector('.load-btn');\nconst imgEndsDiscr = document.querySelector('.thats-all');\nchangeIconColor(icon); // Changed input icon color if it has some value\nhandleSubmit(); // Click on search btn\nclickOnlike(); // Functionality for liking pictures\ngetComments(); // Functionality for getting modal with comments for picture\n\n\n// -----------------WHEN USER CLICK ON SEARCH BTN-------------------\n\n\nfunction handleSubmit() {\n    searchBar.addEventListener('submit', async event => {\n        event.preventDefault();\n        clearGallery(); \n        hideElement(imgEndsDiscr)\n\n        let query = event.target['search-text'].value.trim();\n        searchBar.dataset.query = query; //Saving query in input data(after we use it in load more btn)\n        \n        if (!query) {\n            infoMessage('Enter some value');\n            return;\n        }\n        \n        addLoading() // Adding main loader after click\n\n            try {\n                const { hits, totalHits, page, perPage } = await getImagesByQuery(query)\n                loadMoreBtn.dataset.page = page; // Let loading button has data with value of current page\n\n                // If there are no pictures on search request\n                if (hits.length === 0) {\n                    throw new Error(`Sorry, there are no images matching ${query}. Please try again!`);\n                } \n                \n                createGallery(hits);\n                await waitForImagesToLoad(); //Waiting for all images be loaded before hide loader\n                handlePaginationState(query, totalHits, page, perPage) //Show btn load more\n                \n            }\n            \n            catch(error) {\n                if (error.message.includes('no images')) {\n                    infoMessage(error.message);\n                    hideElement(loadMoreBtn);\n                }\n                else {\n                    errorMessage('Something went wrong. Please try again later.');\n                    console.log(error.message);\n                }\n                \n                clearGallery();   \n            }\n        \n            finally {\n                    waitForImagesToLoad(); \n            }\n            \n    })\n\n}\n   \n\n// -----------------------BUTTON LOAD MORE BTN AFTER CLICK------------------------\n\n\nloadMoreBtn.addEventListener('click', loadMore)\n\n async function loadMore() {\n     let page = Number(loadMoreBtn.dataset.page) + 1; // Getting our pagenumber\n     loadMoreBtn.dataset.page = page;\n     let query = searchBar.dataset.query; // Getting our current search query\n\n     hideElement(loadMoreBtn); \n     showNextPageloader()\n\n     if (!query) return;\n\n    try {\n        const { hits, totalHits, perPage } = await getImagesByQuery(query, page);\n        createGallery(hits);\n        await waitForImagesToLoad();\n        makeScroll()\n        handlePaginationState(query, totalHits, page, perPage);\n    }\n        \n    catch (error) {\n            console.error('Load more error:', error);        \n    }\n\n    finally {\n            removeNextPageloader()   \n    }   \n}\n\n\n// --------------------------PAGINATION BEHAVIOR----------------------------------\n\n\nexport function handlePaginationState(query, totalHits, page, perPage) {\n     \n    const totalPages = Math.ceil(totalHits / perPage);\n    \n           if (page > totalPages) {\n               infoMessage(`We're sorry, but you've reached the end of search results \"${query}\".`);\n               hideElement(loadMoreBtn)\n               showElement(imgEndsDiscr)\n               return;\n           } else if (totalPages === 1) {\n               hideElement(loadMoreBtn)\n               showElement(imgEndsDiscr)\n           }\n           else {\n                showElement(loadMoreBtn)\n           }\n}\n\n\n\n    \n"],"names":["getImagesByQuery","query","page","response","axios","getCommentsByQuery","number","BASE_URL","gallery","createGallery","images","galleryItemsList","likes","views","downloads","comments","tags","largeImageURL","webformatURL","waitForImagesToLoad","SimpleLightbox","clearGallery","changeIconColor","icon","searchBar","changeColor","event","errorMessage","message","iziToast","infoMessage","addLoading","loader","removeLoading","resolve","loadedCount","removeNextPageloader","checkIfAllImagesLoaded","img","clickOnlike","like","likesValue","numberOfLikes","hideElement","element","showElement","showNextPageloader","getComments","numberValue","commentsList","body","fullName","basicLightbox.create","error","makeScroll","cardDimentions","loadMoreBtn","imgEndsDiscr","handleSubmit","hits","totalHits","perPage","handlePaginationState","loadMore","totalPages"],"mappings":"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"}